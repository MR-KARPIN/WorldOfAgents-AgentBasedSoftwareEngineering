<mxfile host="app.diagrams.net" modified="2024-06-05T09:23:32.164Z" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/125.0.0.0 Safari/537.36" etag="7wIcETDa4RFxcBg21mmw" version="24.4.13" type="device">
  <diagram name="Page-1" id="42789a77-a242-8287-6e28-9cd8cfd52e62">
    <mxGraphModel dx="2500" dy="753" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1100" pageHeight="850" background="none" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="FUxRtrYnE1zt7m4GWVTE-2" value="&lt;b&gt;&lt;font style=&quot;font-size: 24px;&quot;&gt;TribeController&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="30" y="90" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="FUxRtrYnE1zt7m4GWVTE-3" value="" style="endArrow=none;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint y="80" as="sourcePoint" />
            <mxPoint x="1100" y="80" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FUxRtrYnE1zt7m4GWVTE-6" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="710" y="140" width="230" height="230" as="geometry" />
        </mxCell>
        <mxCell id="FUxRtrYnE1zt7m4GWVTE-7" value="0.&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;0.1&amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;Buscar en DFS al RegistrationManager&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;/span&gt;Realizar protocolo de registro&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;0.2&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;Si registrado --&amp;gt;suscribir al phase manager&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;1.&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;1.1&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;/span&gt;1.1.1 Recibir de TribeAccountant recursos iniciales&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;/span&gt;1.1.2 Recibir de MapManager dimensiones del mapa&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;1.1.3 Recibir de UnitManager unidades iniciales&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;1.2 &lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;Recibir cambio de fase&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry y="140" width="390" height="230" as="geometry" />
        </mxCell>
        <mxCell id="FUxRtrYnE1zt7m4GWVTE-17" value="1.1.1" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="735" y="165" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="FUxRtrYnE1zt7m4GWVTE-19" value="1.2" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="775" y="270" width="100" height="100" as="geometry" />
        </mxCell>
        <mxCell id="FUxRtrYnE1zt7m4GWVTE-23" value="" style="endArrow=none;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint y="480" as="sourcePoint" />
            <mxPoint x="1100" y="480" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FUxRtrYnE1zt7m4GWVTE-24" value="&lt;b&gt;&lt;font style=&quot;font-size: 24px;&quot;&gt;RegistrationManager&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry y="500" width="300" height="30" as="geometry" />
        </mxCell>
        <mxCell id="FUxRtrYnE1zt7m4GWVTE-25" value="0. Registrar servicio en DFS.&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;Buscar en DFS a tribeAccountant&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;Suscribirse a PhaseManager.&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;1.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;1.1 Recibir y gestionar registro.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;1&lt;/span&gt;.1.1 Tribu nueva--&amp;gt;Enviar id y nombre de tribu al TribeAccountant&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;1.1.2 Tribu nueva--&amp;gt;Enviar id y nombre de tribu al UnitManager&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;1.1.3 Tribu nueva --&amp;gt; Enviar id y nombre de tribu al MapManager&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;1.2 Recibir cambio de fase.&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry y="550" width="470" height="180" as="geometry" />
        </mxCell>
        <mxCell id="FUxRtrYnE1zt7m4GWVTE-26" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="FUxRtrYnE1zt7m4GWVTE-28" target="FUxRtrYnE1zt7m4GWVTE-29" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="FUxRtrYnE1zt7m4GWVTE-28" value="0" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="410" y="595" width="50" height="50" as="geometry" />
        </mxCell>
        <mxCell id="FUxRtrYnE1zt7m4GWVTE-29" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="580" y="490" width="260" height="260" as="geometry" />
        </mxCell>
        <mxCell id="FUxRtrYnE1zt7m4GWVTE-30" value="1.1" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="585" y="567.5" width="35" height="35" as="geometry" />
        </mxCell>
        <mxCell id="FUxRtrYnE1zt7m4GWVTE-31" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="FUxRtrYnE1zt7m4GWVTE-30" target="FUxRtrYnE1zt7m4GWVTE-34" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="FUxRtrYnE1zt7m4GWVTE-46" value="&lt;font style=&quot;font-size: 10px;&quot;&gt;tribu registrada&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="FUxRtrYnE1zt7m4GWVTE-31" vertex="1" connectable="0">
          <mxGeometry x="-0.1307" y="-3" relative="1" as="geometry">
            <mxPoint x="49" y="-38" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FUxRtrYnE1zt7m4GWVTE-33" value="1.2" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="680" y="645" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="fWTy8PFXf3DavlvqX8aT-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="FUxRtrYnE1zt7m4GWVTE-34" target="fWTy8PFXf3DavlvqX8aT-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="FUxRtrYnE1zt7m4GWVTE-34" value="1.1.1" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="645" y="567.5" width="35" height="35" as="geometry" />
        </mxCell>
        <mxCell id="FUxRtrYnE1zt7m4GWVTE-35" value="" style="endArrow=none;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint y="760" as="sourcePoint" />
            <mxPoint x="1100" y="760" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FUxRtrYnE1zt7m4GWVTE-36" value="&lt;b&gt;&lt;font style=&quot;font-size: 24px;&quot;&gt;TribeAccountant&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry y="770" width="300" height="30" as="geometry" />
        </mxCell>
        <mxCell id="FUxRtrYnE1zt7m4GWVTE-37" value="0. Leer ficheros configuración inicial para obtener recursos iniciales&amp;nbsp;&lt;span style=&quot;background-color: initial;&quot;&gt;Registrar servicio en DFS.&lt;/span&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;1.&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;1.1. Recibir nueva tribu, guardar registro y enviar al TribeController sus recursos iniciales&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;1.2.&amp;nbsp;&lt;span style=&quot;background-color: initial;&quot;&gt;Recibir mensaje del UnitManager para sumar 1 unidad a una tribu.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;1.3 Recibir mensaje de Resource Manager con el recurso ganado&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;1.4 Restar recursos del Tribe al construir edificio&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;1.5 Restar recursos del Tribe al crear una nueva unidad&lt;br&gt;&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry y="790" width="580" height="180" as="geometry" />
        </mxCell>
        <mxCell id="FUxRtrYnE1zt7m4GWVTE-47" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="FUxRtrYnE1zt7m4GWVTE-48" target="_4OOSLALn7Y-33vV7u4W-2" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="762.4999999999995" y="885" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FUxRtrYnE1zt7m4GWVTE-48" value="0" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="647.5" y="840" width="50" height="50" as="geometry" />
        </mxCell>
        <mxCell id="FUxRtrYnE1zt7m4GWVTE-50" value="" style="endArrow=none;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint y="980" as="sourcePoint" />
            <mxPoint x="1100" y="980" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FUxRtrYnE1zt7m4GWVTE-51" value="&lt;b&gt;&lt;font style=&quot;font-size: 24px;&quot;&gt;PhaseManager&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-10" y="990" width="300" height="30" as="geometry" />
        </mxCell>
        <mxCell id="FUxRtrYnE1zt7m4GWVTE-52" value="0. Registra servicio en DFS.&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;Lee configuración inicial.&lt;br&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;br&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;1.&amp;nbsp;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;1.1 Recibir suscripciones y gestionarlas.&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;1.2&amp;nbsp;&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;1.2.1&amp;nbsp;Informar cambio de fase fin de registro.&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;1.2.2 Informar cambio de fase fin de la partida.&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry y="1010" width="370" height="180" as="geometry" />
        </mxCell>
        <mxCell id="FUxRtrYnE1zt7m4GWVTE-61" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="FUxRtrYnE1zt7m4GWVTE-62" target="FUxRtrYnE1zt7m4GWVTE-63" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="FUxRtrYnE1zt7m4GWVTE-62" value="0" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="435" y="1100" width="50" height="50" as="geometry" />
        </mxCell>
        <mxCell id="FUxRtrYnE1zt7m4GWVTE-63" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="605" y="1010" width="230" height="230" as="geometry" />
        </mxCell>
        <mxCell id="FUxRtrYnE1zt7m4GWVTE-64" value="1.1" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="675" y="1010" width="90" height="90" as="geometry" />
        </mxCell>
        <mxCell id="I8fZxj7IVSoXpUTp9dsT-1" value="1.2.1" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="615" y="1130" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="I8fZxj7IVSoXpUTp9dsT-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="I8fZxj7IVSoXpUTp9dsT-1" target="I8fZxj7IVSoXpUTp9dsT-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="I8fZxj7IVSoXpUTp9dsT-5" value="cambio de fase" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="I8fZxj7IVSoXpUTp9dsT-2" vertex="1" connectable="0">
          <mxGeometry x="-0.3067" y="-2" relative="1" as="geometry">
            <mxPoint x="14" y="-22" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="I8fZxj7IVSoXpUTp9dsT-4" value="1.2.2" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="765" y="1130" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="S67vczh8vw_C1qWpw7-m-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="S67vczh8vw_C1qWpw7-m-1" target="FUxRtrYnE1zt7m4GWVTE-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="S67vczh8vw_C1qWpw7-m-1" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="390" y="140" width="230" height="230" as="geometry" />
        </mxCell>
        <mxCell id="S67vczh8vw_C1qWpw7-m-3" value="0.1" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="415" y="225" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="S67vczh8vw_C1qWpw7-m-4" value="0.2" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="530" y="225" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="h5WyJ66Q6PH4y0X4w_As-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="fWTy8PFXf3DavlvqX8aT-6" target="h5WyJ66Q6PH4y0X4w_As-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="fWTy8PFXf3DavlvqX8aT-6" value="1.1.2" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="702.5" y="567.5" width="35" height="35" as="geometry" />
        </mxCell>
        <mxCell id="-5YCuN4e8hpnKbr-8uhb-1" value="" style="endArrow=none;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-10" y="1250" as="sourcePoint" />
            <mxPoint x="1090" y="1250" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-5YCuN4e8hpnKbr-8uhb-2" value="&lt;b&gt;&lt;font style=&quot;font-size: 24px;&quot;&gt;MapManager&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-10" y="1275" width="300" height="30" as="geometry" />
        </mxCell>
        <mxCell id="-5YCuN4e8hpnKbr-8uhb-3" value="0. Registra servicio en DFS.&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;Leer configuration file.&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;Enviar al UnitManager las posiciones iniciales&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;Suscribe a PhaseManager&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;1.&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;1.1&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;1.1.1 Recibir mensaje de RegistrationManager con nombre y AID de una nueva tribu&amp;nbsp;&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;/span&gt;1.1.2 Informar Tribe controller de las dimensiones del mapa.&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial; white-space: pre;&quot;&gt;&#x9;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;1.1.3&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;Informar GUI de la creacion de las unidades para que se puedan ver.&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;1.2 Escuchar cambios de fase&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;1.3 Recibir nuevas unidades (las tres unidades iniciales de cada tribu)&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;2.&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;2.1 Mover unidades&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;2.2 Eliminar recursos explotados&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;2.3 Escuchar cambio de fase&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;2.4 Construir edificio&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;2.5 = 1.3 Creación de nueva unidad&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-5" y="1330" width="620" height="320" as="geometry" />
        </mxCell>
        <mxCell id="h5WyJ66Q6PH4y0X4w_As-1" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="705" y="1340" width="230" height="230" as="geometry" />
        </mxCell>
        <mxCell id="h5WyJ66Q6PH4y0X4w_As-2" value="1.1.2" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="795" y="165" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="h5WyJ66Q6PH4y0X4w_As-4" value="1.1.3" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="757.5" y="567.5" width="35" height="35" as="geometry" />
        </mxCell>
        <mxCell id="AuI_36xpEOTYrvU8HrCl-1" value="" style="endArrow=none;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint y="1700" as="sourcePoint" />
            <mxPoint x="1100" y="1700" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="AuI_36xpEOTYrvU8HrCl-2" value="&lt;b&gt;&lt;font style=&quot;font-size: 24px;&quot;&gt;UnitManager&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-10" y="1720" width="300" height="30" as="geometry" />
        </mxCell>
        <mxCell id="AuI_36xpEOTYrvU8HrCl-3" value="0. Registra servicio en DFS.&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;Obtiene posiciones iniciales del MapManager.&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;Suscribe a phaseManager&lt;br&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;1.&amp;nbsp;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;1.1 Recibir mensaje de crear una unidad.&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;1.1.1 Crear las 3 unidades iniciales&amp;nbsp;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial; white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;background-color: initial; white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;1.1.3 Informar a la tribu el AID de las 3 unidades.&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;1.2 Recibir cambio de fase&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;2.&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;2.1 Mover unidades&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;2.1.1 Recibir mensaje de movimiento de la unidad y&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;comprobar si está bloqueada&amp;nbsp;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;2.1.2 Cuenta el tiempo de bloqueo de la unidad, cuando&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;finaliza, la desbloquea e informa al UnitController&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;2.2 Explotar recurso&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;2.3 Escuchar cambio de fase&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;2.4 Construir edificio&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;2.4.1 Recibir mensaje de construir edificio de la unidad y&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;comprobar si está bloqueada&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;2.4.2Cuenta el tiempo de bloqueo de la unidad, cuando&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;finaliza, la desbloquea e informa al UnitController&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;2.5 Crear unidades&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;2.5.1 Recibir mensaje de crear unidad y&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;comprobar si está bloqueada.&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;2.5.2 En caso de no estar bloqueada solicita la creación de la unidad &lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;donde se comprueban las condiciones y después se informa del resultado&lt;br&gt;&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-5" y="1770" width="430" height="410" as="geometry" />
        </mxCell>
        <mxCell id="AuI_36xpEOTYrvU8HrCl-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="AuI_36xpEOTYrvU8HrCl-5" target="AuI_36xpEOTYrvU8HrCl-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="AuI_36xpEOTYrvU8HrCl-5" value="0" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="435" y="1920" width="50" height="50" as="geometry" />
        </mxCell>
        <mxCell id="AuI_36xpEOTYrvU8HrCl-6" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="605" y="1830" width="230" height="230" as="geometry" />
        </mxCell>
        <mxCell id="AuI_36xpEOTYrvU8HrCl-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="AuI_36xpEOTYrvU8HrCl-7" target="AuI_36xpEOTYrvU8HrCl-11" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="690.0000576701818" y="1945.0588235294117" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="AuI_36xpEOTYrvU8HrCl-7" value="1.1.1" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="637.5" y="1900" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="AuI_36xpEOTYrvU8HrCl-11" value="1.1.3" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="745" y="1900" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="6E6tNot2BkTCV9jTP4u4-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="6E6tNot2BkTCV9jTP4u4-1" target="h5WyJ66Q6PH4y0X4w_As-1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="647.4999999999945" y="1455" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="6E6tNot2BkTCV9jTP4u4-1" value="0" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="597.5" y="1430" width="50" height="50" as="geometry" />
        </mxCell>
        <mxCell id="_4OOSLALn7Y-33vV7u4W-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="6E6tNot2BkTCV9jTP4u4-3" target="_4OOSLALn7Y-33vV7u4W-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="6E6tNot2BkTCV9jTP4u4-3" value="1.1.1" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="702.5" y="1425" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_4OOSLALn7Y-33vV7u4W-1" value="1.1.3" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="855" y="165" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_4OOSLALn7Y-33vV7u4W-2" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="772.5" y="760" width="210" height="210" as="geometry" />
        </mxCell>
        <mxCell id="_4OOSLALn7Y-33vV7u4W-3" value="1.1" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="820" y="770" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_4OOSLALn7Y-33vV7u4W-4" value="1.2" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="820" y="835" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_4OOSLALn7Y-33vV7u4W-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="_4OOSLALn7Y-33vV7u4W-5" target="_4OOSLALn7Y-33vV7u4W-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_4OOSLALn7Y-33vV7u4W-5" value="1.1.2" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="790" y="1425" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="hh1gWRL7qi1CM8Km2Zah-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="_4OOSLALn7Y-33vV7u4W-6" target="hh1gWRL7qi1CM8Km2Zah-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="hh1gWRL7qi1CM8Km2Zah-6" value="Fase de juego" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="hh1gWRL7qi1CM8Km2Zah-2" vertex="1" connectable="0">
          <mxGeometry x="-0.272" y="1" relative="1" as="geometry">
            <mxPoint x="13" y="-14" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_4OOSLALn7Y-33vV7u4W-6" value="1.1.3" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="875" y="1425" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="7KtVhj0R858IPKEKfJfc-1" value="" style="endArrow=none;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="15" y="2280" as="sourcePoint" />
            <mxPoint x="1115" y="2280" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="7KtVhj0R858IPKEKfJfc-2" value="&lt;b&gt;&lt;font style=&quot;font-size: 24px;&quot;&gt;ResourceManager&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="5" y="2290" width="300" height="30" as="geometry" />
        </mxCell>
        <mxCell id="7KtVhj0R858IPKEKfJfc-3" value="0. Registra servicio en DFS.&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;Obtiene info de los recursos iniciales que hay en el mapa.&lt;br&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;1.&amp;nbsp;&lt;span style=&quot;background-color: initial;&quot;&gt;Recibir mensaje de explotar un recurso y crear agente para gestionar dicha petición&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;2.&amp;nbsp;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;2.1.1 Checkear condiciones de explotación.&amp;nbsp;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial; white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;background-color: initial; white-space: pre;&quot;&gt;&#x9;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;2&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;.1.1.2 Reservar parte del recurso.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;2.1.1.3 Fin de la explotación&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;a--&amp;gt; se terminó la explotación&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;b--&amp;gt; se acabó el tiempo de juego&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;2.1.1.4 Informar tribe accountant de la ganancia de recurso.&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;2.1.1.5 Informar Mapa de que se agotó x recurso&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;2.1.2 Informar unit manager del estado final de la explotación&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="10" y="2330" width="430" height="250" as="geometry" />
        </mxCell>
        <mxCell id="7KtVhj0R858IPKEKfJfc-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="7KtVhj0R858IPKEKfJfc-5" target="7KtVhj0R858IPKEKfJfc-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="7KtVhj0R858IPKEKfJfc-5" value="0" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="450" y="2400" width="50" height="50" as="geometry" />
        </mxCell>
        <mxCell id="-vwHTiV3MYF2yVPwj9Yc-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=0;exitDy=0;entryX=0.782;entryY=0.089;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="7KtVhj0R858IPKEKfJfc-6" target="7KtVhj0R858IPKEKfJfc-6" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="640" y="2380" as="targetPoint" />
            <Array as="points">
              <mxPoint x="591" y="2367" />
              <mxPoint x="639" y="2367" />
              <mxPoint x="639" y="2380" />
              <mxPoint x="639" y="2380" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="-vwHTiV3MYF2yVPwj9Yc-3" value="En bucle escuchando&lt;div&gt;peticiones de explotación&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="-vwHTiV3MYF2yVPwj9Yc-2" vertex="1" connectable="0">
          <mxGeometry x="-0.1815" y="1" relative="1" as="geometry">
            <mxPoint x="2" y="-26" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-vwHTiV3MYF2yVPwj9Yc-4" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="7KtVhj0R858IPKEKfJfc-6" target="-vwHTiV3MYF2yVPwj9Yc-5" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="760" y="2380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="7KtVhj0R858IPKEKfJfc-6" value="1." style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="580" y="2387.5" width="75" height="75" as="geometry" />
        </mxCell>
        <mxCell id="hh1gWRL7qi1CM8Km2Zah-1" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="1050" y="1340" width="230" height="230" as="geometry" />
        </mxCell>
        <mxCell id="hh1gWRL7qi1CM8Km2Zah-5" value="1.2" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="792.5" y="1340" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="hh1gWRL7qi1CM8Km2Zah-9" value="Operaciones de movimiento y eliminar recursos&lt;div&gt;hasta que llega cambio de fase (pasaría a fase de score) y muere&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="1" vertex="1" connectable="0">
          <mxGeometry x="1149.9952631578944" y="1305" as="geometry" />
        </mxCell>
        <mxCell id="hh1gWRL7qi1CM8Km2Zah-10" value="1.2" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="690" y="1980" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="hh1gWRL7qi1CM8Km2Zah-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="AuI_36xpEOTYrvU8HrCl-6" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="850" y="1945" as="sourcePoint" />
            <mxPoint x="965.0000000000014" y="1945" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="hh1gWRL7qi1CM8Km2Zah-12" value="Fase de juego" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="hh1gWRL7qi1CM8Km2Zah-11" vertex="1" connectable="0">
          <mxGeometry x="-0.272" y="1" relative="1" as="geometry">
            <mxPoint x="13" y="-14" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="hh1gWRL7qi1CM8Km2Zah-17" value="Operaciones de movimiento y explotar recursos&lt;div&gt;hasta que llega cambio de fase (pasaría a fase de score) y muere&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="1" vertex="1" connectable="0">
          <mxGeometry x="1089.9952631578944" y="1780" as="geometry" />
        </mxCell>
        <mxCell id="hh1gWRL7qi1CM8Km2Zah-18" value="1.3" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="825" y="900" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="hh1gWRL7qi1CM8Km2Zah-19" value="2.4" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="1145" y="1480" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="hh1gWRL7qi1CM8Km2Zah-22" value="2.5" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="1145" y="1530" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="hh1gWRL7qi1CM8Km2Zah-23" value="2.3" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="1145" y="1430" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="hh1gWRL7qi1CM8Km2Zah-24" value="2.2" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="1145" y="1385" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="hh1gWRL7qi1CM8Km2Zah-25" value="2.1" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="1145" y="1340" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="hh1gWRL7qi1CM8Km2Zah-26" value="1.3" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="790" y="1510" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="-vwHTiV3MYF2yVPwj9Yc-5" value="2." style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="762.5" y="2330" width="75" height="75" as="geometry" />
        </mxCell>
        <mxCell id="-vwHTiV3MYF2yVPwj9Yc-6" value="2." style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="762.5" y="2417.5" width="75" height="75" as="geometry" />
        </mxCell>
        <mxCell id="-vwHTiV3MYF2yVPwj9Yc-7" value="2." style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="762.5" y="2505" width="75" height="75" as="geometry" />
        </mxCell>
        <mxCell id="-vwHTiV3MYF2yVPwj9Yc-8" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="7KtVhj0R858IPKEKfJfc-6" target="-vwHTiV3MYF2yVPwj9Yc-6" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="775" y="2378" as="targetPoint" />
            <mxPoint x="665" y="2435" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-vwHTiV3MYF2yVPwj9Yc-9" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="7KtVhj0R858IPKEKfJfc-6" target="-vwHTiV3MYF2yVPwj9Yc-7" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="785" y="2388" as="targetPoint" />
            <mxPoint x="675" y="2445" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-vwHTiV3MYF2yVPwj9Yc-10" value="..." style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="780" y="2590" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="c_oJx5gZX4po4PHUuf1g-3" value="2.1" style="ellipse;whiteSpace=wrap;html=1;verticalAlign=top;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="1230" y="1810" width="125" height="125" as="geometry" />
        </mxCell>
        <mxCell id="c_oJx5gZX4po4PHUuf1g-2" value="2.1.1" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="1272.5" y="1835" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="c_oJx5gZX4po4PHUuf1g-4" value="2.1.2" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="1272.5" y="1885" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="c_oJx5gZX4po4PHUuf1g-5" value="&lt;font style=&quot;font-size: 10px;&quot;&gt;&lt;i&gt;0..n&lt;/i&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1292" y="1876" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="c_oJx5gZX4po4PHUuf1g-6" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="970" y="1830" width="230" height="230" as="geometry" />
        </mxCell>
        <mxCell id="c_oJx5gZX4po4PHUuf1g-7" value="2.4" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="1065" y="1970" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="c_oJx5gZX4po4PHUuf1g-8" value="2.5" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="1065" y="2020" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="c_oJx5gZX4po4PHUuf1g-9" value="2.3" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="1065" y="1920" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="c_oJx5gZX4po4PHUuf1g-10" value="2.2" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="1065" y="1875" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="c_oJx5gZX4po4PHUuf1g-11" value="2.1" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="1065" y="1830" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="c_oJx5gZX4po4PHUuf1g-13" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;dashed=1;" parent="1" source="c_oJx5gZX4po4PHUuf1g-11" target="c_oJx5gZX4po4PHUuf1g-3" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="930" y="1780" as="sourcePoint" />
            <mxPoint x="980" y="1730" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_Ys4EOcbvHmElxVMa1_V-1" value="1.4" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="900" y="800" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_Ys4EOcbvHmElxVMa1_V-2" value="1.5" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="900" y="870" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_Ys4EOcbvHmElxVMa1_V-3" value="2.4" style="ellipse;whiteSpace=wrap;html=1;verticalAlign=top;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="1230" y="1947.5" width="125" height="125" as="geometry" />
        </mxCell>
        <mxCell id="_Ys4EOcbvHmElxVMa1_V-4" value="2.5" style="ellipse;whiteSpace=wrap;html=1;verticalAlign=top;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="1227" y="2090" width="125" height="125" as="geometry" />
        </mxCell>
        <mxCell id="_Ys4EOcbvHmElxVMa1_V-5" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;dashed=1;" parent="1" source="c_oJx5gZX4po4PHUuf1g-7" target="_Ys4EOcbvHmElxVMa1_V-3" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1115" y="1994" as="sourcePoint" />
            <mxPoint x="1240" y="2017" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_Ys4EOcbvHmElxVMa1_V-6" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;dashed=1;" parent="1" source="c_oJx5gZX4po4PHUuf1g-8" target="_Ys4EOcbvHmElxVMa1_V-4" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1125" y="1870" as="sourcePoint" />
            <mxPoint x="1250" y="1893" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_Ys4EOcbvHmElxVMa1_V-7" value="2.4.1" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="1272.5" y="1970" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="_Ys4EOcbvHmElxVMa1_V-8" value="2.4.2" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="1272.5" y="2020" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="_Ys4EOcbvHmElxVMa1_V-9" value="&lt;font style=&quot;font-size: 10px;&quot;&gt;&lt;i&gt;0..n&lt;/i&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1287" y="2007" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_Ys4EOcbvHmElxVMa1_V-10" value="2.5.1" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="1271.5" y="2112" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="_Ys4EOcbvHmElxVMa1_V-11" value="2.5.2" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="1272.5" y="2164" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="_Ys4EOcbvHmElxVMa1_V-12" value="&lt;font style=&quot;font-size: 10px;&quot;&gt;&lt;i&gt;0..n&lt;/i&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1289" y="2150" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="7T6VFJ0oyiN41sJxjtAl-1" value="" style="endArrow=none;html=1;rounded=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint y="2600" as="sourcePoint" />
            <mxPoint x="1100" y="2600" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="7T6VFJ0oyiN41sJxjtAl-2" value="&lt;b&gt;&lt;font style=&quot;font-size: 24px;&quot;&gt;BuildingManager&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="30" y="2620" width="300" height="30" as="geometry" />
        </mxCell>
        <mxCell id="7T6VFJ0oyiN41sJxjtAl-4" value="&amp;nbsp; &amp;nbsp; 1" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;align=left;" vertex="1" parent="1">
          <mxGeometry x="620" y="2690" width="130" height="130" as="geometry" />
        </mxCell>
        <mxCell id="7T6VFJ0oyiN41sJxjtAl-8" value="1.2" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="665" y="2760" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="7T6VFJ0oyiN41sJxjtAl-9" value="1.1" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="665" y="2705" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="7T6VFJ0oyiN41sJxjtAl-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="7T6VFJ0oyiN41sJxjtAl-11">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="617.5" y="2755" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="7T6VFJ0oyiN41sJxjtAl-11" value="0" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="487.5" y="2730" width="50" height="50" as="geometry" />
        </mxCell>
        <mxCell id="7T6VFJ0oyiN41sJxjtAl-12" value="0. Registra servicio en DFS.&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;Suscribe a PhaseManager&lt;br&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;1.&amp;nbsp;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;1.1 Construir edificio&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;1.1.1 Recibir mensaje de construir un edificio y comprueba si se puede construir&amp;nbsp; en el mapa (preguntando al MapManager) y si se tienen los recursos necesarios (preguntando al TribeAccountant).&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;1.1.2.&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;Cuenta el tiempo de construcción del edificio, cuando&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;finaliza, comprueba si terminó el tiempo de juego e informa al UnitManager, al TribeAccountant y al MapManager.&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;1.2.&amp;nbsp;&lt;span style=&quot;background-color: initial;&quot;&gt;Escuchar cambio de fase&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="20" y="2655" width="430" height="235" as="geometry" />
        </mxCell>
        <mxCell id="7T6VFJ0oyiN41sJxjtAl-13" value="1.1" style="ellipse;whiteSpace=wrap;html=1;verticalAlign=top;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="827.5" y="2670" width="125" height="125" as="geometry" />
        </mxCell>
        <mxCell id="7T6VFJ0oyiN41sJxjtAl-14" value="1.1.1" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="870" y="2695" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="7T6VFJ0oyiN41sJxjtAl-15" value="1.1.2" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="870" y="2745" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="7T6VFJ0oyiN41sJxjtAl-16" value="&lt;font style=&quot;font-size: 10px;&quot;&gt;&lt;i&gt;0..n&lt;/i&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="889.5" y="2736" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="7T6VFJ0oyiN41sJxjtAl-17" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;dashed=1;" edge="1" parent="1" target="7T6VFJ0oyiN41sJxjtAl-13" source="7T6VFJ0oyiN41sJxjtAl-9">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="765" y="2710" as="sourcePoint" />
            <mxPoint x="889.9999999999968" y="2732.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
